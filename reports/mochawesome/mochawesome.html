<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:10,&quot;passes&quot;:10,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-12-31T12:27:12.104Z&quot;,&quot;end&quot;:&quot;2023-12-31T12:27:13.386Z&quot;,&quot;duration&quot;:1282,&quot;testsRegistered&quot;:34,&quot;passPercent&quot;:29.411764705882355,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:24,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;ec9b058f-ab38-4d06-a804-b5209d9d646f&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ca4f212f-057f-49d5-b35b-75a03b366212&quot;,&quot;title&quot;:&quot;User Registration Endpoint&quot;,&quot;fullFile&quot;:&quot;/Users/mz/Scripts/api-testing-kasiraja/api/tests/001-registration-test.js&quot;,&quot;file&quot;:&quot;/api/tests/001-registration-test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;@register As a User, I want to be able to register&quot;,&quot;fullTitle&quot;:&quot;User Registration Endpoint @register As a User, I want to be able to register&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose registration request data\nregistrationData.name = faker.person.fullName();\nregistrationData.email = faker.internet.email();\nregistrationData.password = faker.internet.password();\n//hit api and check\nconst response = await userRegistration(registrationData);\nassert(response.status).to.equal(201);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body).to.have.keys(expectedRegistrationKeys);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body.message).to.equal(&#x27;Toko berhasil didaftarkan&#x27;);\n//take some response data and show the data\ntokoName = response.body.data.name;\n//console.log(tokoName);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dc3ad88-0ff8-411c-8c56-027b82ceddf3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@register As a User, I should got an error message when I register with invalid data&quot;,&quot;fullTitle&quot;:&quot;User Registration Endpoint @register As a User, I should got an error message when I register with invalid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose registration request data\nregistrationData.name = (\&quot;\&quot;);\nregistrationData.email = faker.internet.email();\nregistrationData.password = faker.internet.password();\n//hit api and check\nconst response = await userRegistration(registrationData);\nassert(response.status).to.equal(400);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;name\\\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9ffc2e8-69ab-4539-b560-8ce09003659f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2dc3ad88-0ff8-411c-8c56-027b82ceddf3&quot;,&quot;e9ffc2e8-69ab-4539-b560-8ce09003659f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:180000},{&quot;uuid&quot;:&quot;6dcbb4af-7538-4fe0-b7d7-476e284f99b8&quot;,&quot;title&quot;:&quot;Authentication Endpoint&quot;,&quot;fullFile&quot;:&quot;/Users/mz/Scripts/api-testing-kasiraja/api/tests/002-auth-test.js&quot;,&quot;file&quot;:&quot;/api/tests/002-auth-test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;@auth As a User, I want to be able to login with valid data&quot;,&quot;fullTitle&quot;:&quot;Authentication Endpoint @auth As a User, I want to be able to login with valid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await getAccessToken(authData);\nassert(response.status).to.equal(201);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body).to.have.keys(expectedAuthKeys);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body.message).to.equal(&#x27;Authentication berhasil ditambahkan&#x27;);\n//take some response data and show the data\naccessToken = response.body.data.accessToken;\n//console.log(accessToken);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d928a3e7-413b-4633-a444-9f56e15fcfda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@auth As a User, I should got an error message when I login with invalid credential&quot;,&quot;fullTitle&quot;:&quot;Authentication Endpoint @auth As a User, I should got an error message when I login with invalid credential&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose request data\nauthData.email = faker.internet.email();\nauthData.password = faker.internet.password();\n//hit api and check\nconst response = await getAccessToken(authData);\nassert(response.status).to.equal(401);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;Kredensial yang Anda berikan salah&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;843a2fc2-b855-4ef3-a184-451045f6bc20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@auth As a User, I should got an error message when I login with invalid email&quot;,&quot;fullTitle&quot;:&quot;Authentication Endpoint @auth As a User, I should got an error message when I login with invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose request data\nauthData.email = (\&quot;abc\&quot;);\nauthData.password = faker.internet.password();\n//hit api and check\nconst response = await getAccessToken(authData);\nassert(response.status).to.equal(400);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;email\\\&quot; must be a valid email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31533809-ffbf-4259-a46c-3ff1c676dcfc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@auth As a User, I should got an error message when I login with invalid password&quot;,&quot;fullTitle&quot;:&quot;Authentication Endpoint @auth As a User, I should got an error message when I login with invalid password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose request data\nauthData.email = faker.internet.email();\nauthData.password = faker.internet.password();\n//hit api and check\nconst response = await getAccessToken(authData);\nassert(response.status).to.equal(401);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;Kredensial yang Anda berikan salah&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7412e7d-0610-4f28-991b-3073c86b2d71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@auth As a User, I should got an error message when I login with an empty email&quot;,&quot;fullTitle&quot;:&quot;Authentication Endpoint @auth As a User, I should got an error message when I login with an empty email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose request data\nauthData.email = (\&quot;\&quot;);\n//hit api and check\nconst response = await getAccessToken(authData);\nassert(response.status).to.equal(400);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;email\\\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03ae3d8b-69c5-4ea9-9e13-2e27f1816d93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@auth As a User, I should got an error message when I login with an empty password&quot;,&quot;fullTitle&quot;:&quot;Authentication Endpoint @auth As a User, I should got an error message when I login with an empty password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//compose request data\nauthData.email = faker.internet.email();\nauthData.password = (\&quot;\&quot;);\n//hit api and check\nconst response = await getAccessToken(authData);\nassert(response.status).to.equal(400);\nassert(response.body).to.have.keys([\&quot;message\&quot;, \&quot;status\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;password\\\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e57f18d3-50c6-4e67-a4c0-d1cfd87a4dfc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d928a3e7-413b-4633-a444-9f56e15fcfda&quot;,&quot;843a2fc2-b855-4ef3-a184-451045f6bc20&quot;,&quot;31533809-ffbf-4259-a46c-3ff1c676dcfc&quot;,&quot;e7412e7d-0610-4f28-991b-3073c86b2d71&quot;,&quot;03ae3d8b-69c5-4ea9-9e13-2e27f1816d93&quot;,&quot;e57f18d3-50c6-4e67-a4c0-d1cfd87a4dfc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:180000},{&quot;uuid&quot;:&quot;2d285289-4b10-4dd9-84cc-c2c492ca40c2&quot;,&quot;title&quot;:&quot;Users Endpoint&quot;,&quot;fullFile&quot;:&quot;/Users/mz/Scripts/api-testing-kasiraja/api/tests/003-user-test.js&quot;,&quot;file&quot;:&quot;/api/tests/003-user-test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getAccessToken(authData);\n//console.log(response);\nassert(response.status).to.equal(201);\naccessToken = response.body.data;\n       //console.log(accessToken);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d989fc6-4206-4e45-87e1-12e84dd55667&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;@user undefined&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user undefined&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await addUser(accessToken.accessToken, newUser);\nassert(response.status).to.equal(201);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;, \&quot;message\&quot;]);\nassert(response.body.data).to.be.an(&#x27;object&#x27;);\nuserId = response.body.data;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7b30077-cc82-4fa5-b38f-b4fc2ce084a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I want to get all users&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I want to get all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getAllUser(accessToken.accessToken);\nassert(response.status).to.equal(200);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body.data).to.be.an(&#x27;object&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b7b6405-473e-4ac9-b1f3-923e5a9c817a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I want to get users by user id&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I want to get users by user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getUserById(accessToken.accessToken, userId.userId);\nassert(response.status).to.equal(200);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body.data).to.be.an(&#x27;object&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a53bf557-2618-47aa-8d58-a7e23b83a713&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I want to add new user with valid data&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I want to add new user with valid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await addUser(accessToken.accessToken, newUser);\nassert(response.status).to.equal(201);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;, \&quot;message\&quot;]);\nassert(response.body.data).to.be.an(&#x27;object&#x27;);\nuserId = response.body.data;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08ef2e3d-6103-4083-a322-1f4d68ea57a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I want to update my data with valid data&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I want to update my data with valid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData.name = faker.person.firstName();\nuserData.email = faker.internet.email();\nconst response = await updateUser(accessToken.accessToken, userId.userId, userData);\nassert(response.status).to.equal(200);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;message\&quot;, \&quot;data\&quot;]);\nassert(response.body.data).to.be.an(&#x27;object&#x27;);\n//console.log(response.body);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37196ddf-0e2f-4969-9b1f-4ef41f8f3040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I add new user with invalid token&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I add new user with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await addUser(accessToken.accessToken + &#x27;1&#x27;, newUser);\nassert(response.status).to.equal(401);\nassert(response.body.error).to.equal(&#x27;Unauthorized&#x27;);\nassert(response.body.message).to.equal(&#x27;Invalid token signature&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2421ea2-5663-4887-88de-bbc528e3315b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I add new user with invalid email&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I add new user with invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await addUser(accessToken.accessToken, newUserInvalidEmail);\nassert(response.status).to.equal(400);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;email\\\&quot; must be a valid email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dcfbe72-7e7b-431a-950f-7eb28cee6b71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I add new user with invalid email&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I add new user with invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;newUser.email = (\&quot;\&quot;);\nconst response = await addUser(accessToken.accessToken, newUser);\n//console.log(response);\nassert(response.status).to.equal(400);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;email\\\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b3f2727-478c-4924-8148-868f24eac085&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I add new user with empty password&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I add new user with empty password&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await addUser(accessToken.accessToken, newUserEmptyPassword);\n//console.log(response);\nassert(response.status).to.equal(400);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\\\&quot;password\\\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd6a47fb-82a1-4321-9bd9-15349046492b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I get user with invalid token&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I get user with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getUserById(accessToken.accessToken + &#x27;1&#x27;, userId.userId);\nassert(response.status).to.equal(401);\nassert(response.body.error).to.equal(&#x27;Unauthorized&#x27;);\nassert(response.body.message).to.equal(&#x27;Invalid token signature&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1929fa5-9a42-48b4-a925-10ec5c9c1cbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I get user with empty token&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I get user with empty token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getUserById(&#x27;&#x27;, userId.userId);\nassert(response.status).to.equal(401);\nassert(response.body.error).to.equal(&#x27;Unauthorized&#x27;);\nassert(response.body.message).to.equal(&#x27;Bad HTTP authentication header format&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73663113-1029-401e-b31c-77355d4cb472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I get user with invalid user id&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I get user with invalid user id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getUserById(accessToken.accessToken, userId.userId + &#x27;1&#x27;);\nassert(response.status).to.equal(404);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;id tidak valid&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;901b84f6-abc9-4f23-a0eb-4445731a2cc0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I updated my data with empty email&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I updated my data with empty email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData.email = (\&quot;\&quot;);\nconst response = await updateUser(accessToken.accessToken, userId.userId, userData);\nassert(response.status).to.equal(400);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\&quot;email\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81213cad-afeb-4942-8f6e-3ab470008fdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I updated my data with invalid email&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I updated my data with invalid email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData.email = (\&quot;aaa\&quot;);\nconst response = await updateUser(accessToken.accessToken, userId.userId, userData);\nassert(response.status).to.equal(400);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\&quot;email\&quot; must be a valid email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f3aa483-179a-4513-a2f0-cd92faf3d208&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a User, I should got an error when I updated my data with empty name&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a User, I should got an error when I updated my data with empty name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userData.name = (\&quot;\&quot;);\nconst response = await updateUser(accessToken.accessToken, userId.userId, userData);\nassert(response.status).to.equal(400);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;\&quot;name\&quot; is not allowed to be empty&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c5bfc49-6c61-4241-9107-22ba05b1132c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;@user As a System, I want to delete a user&quot;,&quot;fullTitle&quot;:&quot;Users Endpoint @user As a System, I want to delete a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await deleteUser(accessToken.accessToken, userId.userId);\nassert(response.status).to.equal(200);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;message\&quot;]);\nassert(response.body.message).to.equal(&#x27;User berhasil dihapus&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e677e1f9-30bf-4e43-b005-ecb37803f645&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d7b30077-cc82-4fa5-b38f-b4fc2ce084a2&quot;,&quot;9b7b6405-473e-4ac9-b1f3-923e5a9c817a&quot;,&quot;a53bf557-2618-47aa-8d58-a7e23b83a713&quot;,&quot;08ef2e3d-6103-4083-a322-1f4d68ea57a6&quot;,&quot;37196ddf-0e2f-4969-9b1f-4ef41f8f3040&quot;,&quot;c2421ea2-5663-4887-88de-bbc528e3315b&quot;,&quot;1dcfbe72-7e7b-431a-950f-7eb28cee6b71&quot;,&quot;8b3f2727-478c-4924-8148-868f24eac085&quot;,&quot;bd6a47fb-82a1-4321-9bd9-15349046492b&quot;,&quot;b1929fa5-9a42-48b4-a925-10ec5c9c1cbe&quot;,&quot;73663113-1029-401e-b31c-77355d4cb472&quot;,&quot;901b84f6-abc9-4f23-a0eb-4445731a2cc0&quot;,&quot;81213cad-afeb-4942-8f6e-3ab470008fdd&quot;,&quot;2f3aa483-179a-4513-a2f0-cd92faf3d208&quot;,&quot;5c5bfc49-6c61-4241-9107-22ba05b1132c&quot;,&quot;e677e1f9-30bf-4e43-b005-ecb37803f645&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:180000},{&quot;uuid&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;title&quot;:&quot;Units Endpoint&quot;,&quot;fullFile&quot;:&quot;/Users/mz/Scripts/api-testing-kasiraja/api/tests/004-unit-test.js&quot;,&quot;file&quot;:&quot;/api/tests/004-unit-test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Units Endpoint\&quot;&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint \&quot;before all\&quot; hook in \&quot;Units Endpoint\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:513,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await getAccessToken(authData);\n//console.log(response);\nassert(response.status).to.equal(201);\naccessToken = response.body.data;\n//console.log(accessToken);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89b88ef5-8138-4d9a-a30f-a0b54abf0e7f&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;@unit As a User, I want to create a new unit with valid data&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I want to create a new unit with valid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await addUnit(accessToken.accessToken, unitData);\n//console.log(response.body.data);\nassert(response.status).to.equal(201);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;message\&quot;, \&quot;data\&quot;]);\nassert(response.body.status).to.equal(&#x27;success&#x27;);\nassert(response.body.message).to.equal(&#x27;Unit berhasil ditambahkan&#x27;);\n//take some response data and show the data\nunitId = response.body.data.unitId;\n//console.log(unitId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14744e6a-55f8-4382-8f1e-9aea8682c75e&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I want to get all units&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I want to get all units&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await getUnits(accessToken.accessToken);\nassert(response.status).to.equal(200);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body.status).to.equal(&#x27;success&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8004c2f9-1b83-4ca9-b2a6-1d13f94edecc&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I want to get a unit by id&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I want to get a unit by id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await getUnitById(accessToken.accessToken, unitId);\n//console.log(response.body.data);\nassert(response.status).to.equal(200);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body.status).to.equal(&#x27;success&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f16c6d25-f9ec-470a-b5f9-562f9fe9a46d&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I want to update a unit with valid data&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I want to update a unit with valid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nunitData.name = faker.word.noun();\nconst response = await updateUnit(accessToken.accessToken, unitId, unitData);\nassert(response.status).to.equal(200);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body.status).to.equal(&#x27;success&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e9e390b-4f16-460b-a304-0d0853cdf964&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I want to delete a unit&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I want to delete a unit&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await deleteUnit(accessToken.accessToken, unitId);\nassert(response.status).to.equal(200);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;data\&quot;]);\nassert(response.body.status).to.equal(&#x27;success&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4023a9e-37d2-4b4f-8a08-e825f2465c49&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I should got an error when trying to create a new unit with invalid token&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I should got an error when trying to create a new unit with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await addUnit(accessToken.accessToken + &#x27;1&#x27;, unitData);\nassert(response.status).to.equal(401);\nassert(response.body).to.have.keys([\&quot;statusCode\&quot;, \&quot;error\&quot;, \&quot;message\&quot;, \&quot;attributes\&quot;]);\nassert(response.body.error).to.equal(&#x27;Unauthorized&#x27;);\nassert(response.body.message).to.equal(&#x27;Invalid token signature&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cd34cf7-1951-44bb-90b3-7441837476fd&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I should got an error when trying to create a new with empty name&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I should got an error when trying to create a new with empty name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await addUnit(accessToken.accessToken, emptyNameUnitData);\nassert(response.status).to.equal(400);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;message\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;name is required, description is optional&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;285ed72e-442e-4d4e-85c6-21245de08f03&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I should got an error when trying to get all units with invalid token&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I should got an error when trying to get all units with invalid token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await getUnits(accessToken.accessToken + &#x27;1&#x27;);\nassert(response.status).to.equal(401);\nassert(response.body).to.have.keys([\&quot;statusCode\&quot;, \&quot;error\&quot;, \&quot;message\&quot;, \&quot;attributes\&quot;]);\nassert(response.body.error).to.equal(&#x27;Unauthorized&#x27;);\nassert(response.body.message).to.equal(&#x27;Invalid token signature&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00d79f5c-e750-4274-9bf7-c6731dc56112&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I should got an error when trying to get an unit with invalid unit id&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I should got an error when trying to get an unit with invalid unit id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await getUnitById(accessToken.accessToken, unitId + &#x27;1&#x27;);\n// console.log(response);\nassert(response.status).to.equal(404);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;message\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;id tidak valid&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c3b473c-8022-4fb4-a755-d92abcd7219d&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;@unit As a User, I should got an error when trying to update an unit with invalid unit id&quot;,&quot;fullTitle&quot;:&quot;Units Endpoint @unit As a User, I should got an error when trying to update an unit with invalid unit id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//hit api and check\nconst response = await updateUnit(accessToken.accessToken, unitId + &#x27;X&#x27;, unitData);\nassert(response.status).to.equal(404);\nassert(response.body).to.have.keys([\&quot;status\&quot;, \&quot;message\&quot;]);\nassert(response.body.status).to.equal(&#x27;fail&#x27;);\nassert(response.body.message).to.equal(&#x27;id tidak valid&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;793100c8-95f8-46ec-8f23-86751c1450ae&quot;,&quot;parentUUID&quot;:&quot;87d27b8a-956a-4b2c-966d-effed827f663&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;14744e6a-55f8-4382-8f1e-9aea8682c75e&quot;,&quot;8004c2f9-1b83-4ca9-b2a6-1d13f94edecc&quot;,&quot;f16c6d25-f9ec-470a-b5f9-562f9fe9a46d&quot;,&quot;5e9e390b-4f16-460b-a304-0d0853cdf964&quot;,&quot;f4023a9e-37d2-4b4f-8a08-e825f2465c49&quot;,&quot;6cd34cf7-1951-44bb-90b3-7441837476fd&quot;,&quot;285ed72e-442e-4d4e-85c6-21245de08f03&quot;,&quot;00d79f5c-e750-4274-9bf7-c6731dc56112&quot;,&quot;6c3b473c-8022-4fb4-a755-d92abcd7219d&quot;,&quot;793100c8-95f8-46ec-8f23-86751c1450ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:752,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:180000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:180000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;reports/mochawesome/&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;reports/mochawesome/&quot;,&quot;reportTitle&quot;:&quot;api-testing-kasiraja&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;reports/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/mz/Scripts/api-testing-kasiraja/reports/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/mz/Scripts/api-testing-kasiraja/reports/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>